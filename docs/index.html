<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitación de Boda - Catalina & Juan</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* --- Nota Solo Adultos --- */
        .no-children-note {
            text-align: center;
            margin-top: 30px; /* Espacio superior */
            padding: 0 20px; /* Padding lateral */
        }
        .no-children-note p {
            font-size: 0.95em; /* Un poco más pequeño */
            color: var(--grey-text); /* Color gris sutil */
            font-style: italic; /* Estilo cursiva */
            background-color: var(--light-blue-bg); /* Fondo muy claro para diferenciar */
            padding: 10px 15px;
            border-radius: 6px;
            border-left: 4px solid var(--medium-blue); /* Borde izquierdo distintivo */
            display: inline-block; /* Para que el fondo se ajuste al texto */
            max-width: 90%; /* Evitar que ocupe todo el ancho */
        }
        .no-children-note i {
            margin-right: 8px; /* Espacio después del icono */
            color: var(--medium-blue); /* Color del icono */
        }
         .no-children-note hr {
             margin-bottom: 30px; /* Espacio debajo del separador */
         }
        /* --- Variables de Color --- */
        :root {
            --dark-blue: #0A2342; /* Azul oscuro principal */
            --dark-mid-blue: #002254; /* Azul oscuro principal */
            --medium-blue: #2C6E9E; /* Azul medio para acentos/botones */
            --light-blue-bg: #E0E8F0; /* Azul muy claro para fondos alternativos */
            --white: #FFFFFF;
            --text-on-dark: #FFFFFF;
            --text-on-light: #0A2342;
            --modal-bg: rgba(10, 35, 66, 0.85); /* Fondo modal semitransparente azul oscuro */
            --grey-text: #555;
        }

        /* --- Estilos Generales --- */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Lato', Verdana, sans-serif;
            background-color: var(--light-blue-bg); /* Fondo general claro */
            color: var(--text-on-light);
            line-height: 1.6;
            overflow-x: hidden; /* Evitar scroll horizontal */
        }
        @keyframes pulse-glow {
    0% {
        box-shadow: 0 0 15px rgba(44, 110, 158, 0.4); /* Brillo inicial más sutil */
    }
    50% {
        box-shadow: 0 0 30px rgba(44, 110, 158, 0.8); /* Brillo máximo */
    }
    100% {
        box-shadow: 0 0 15px rgba(44, 110, 158, 0.4); /* Vuelve al brillo inicial */
    }
}
        /* Contenedor principal de la tarjeta */
        .invitation-card {
            max-width: 700px;
            margin: 40px auto;
            background-color: var(--white);
            border-radius: 15px;
            animation: pulse-glow 3s infinite alternate; /* Aplica la animación: nombre, duración, repetición infinita, alternar dirección */
            box-shadow: 0 10px 30px rgba(10, 35, 66, 0.2);
            overflow: hidden; /* Para contener bordes redondeados */
            padding: 0; /* Sin padding aquí, se añade en secciones */
        }

        /* Encabezado con nombres */
        .header {
            background-color: var(--dark-blue);
            color: var(--text-on-dark);
            padding: 40px 20px;
            text-align: center;
        }

        .header h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            font-style: italic;
            opacity: 0.9;
        }

        /* Contenido principal */
        .content {
            padding: 30px;
        }

        h2, h3 {
            font-family: 'Cormorant Garamond', serif;
            color: var(--dark-blue);
            margin-bottom: 15px;
            font-weight: 600;
            text-align: center;
        }
        h2 { font-size: 1.8em; margin-top: 20px; }
        h3 { font-size: 1.4em; margin-top: 15px; }

        p {
            margin-bottom: 15px;
            color: var(--grey-text);
            text-align: center; /* Centrar párrafos por defecto */
        }

        p.info-item {
            display: flex;
            align-items: center;
            justify-content: center; /* Centrar items */
            gap: 10px; /* Espacio entre icono y texto */
            font-size: 1.1em;
            margin-bottom: 10px;
        }
        p.info-item i {
            color: var(--medium-blue);
            width: 20px; /* Ancho fijo para iconos */
            text-align: center;
        }
        p.info-item a {
            color: var(--medium-blue);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s ease;
        }
        p.info-item a:hover {
            color: var(--dark-blue);
        }

        hr {
            border: none;
            height: 1px;
            background-color: var(--light-blue-bg);
            margin: 30px 0;
        }

        /* --- Slideshow --- */
        .slideshow-container {
            position: relative;
            max-width: 100%;
            height: 400px; /* Altura ajustada */
            margin: 20px auto;
            overflow: hidden;
            border-radius: 10px;
        }
        .mySlides {
            display: none;
            height: 100%;
        }
        .mySlides img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            display: block;
        }
        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }
        @keyframes fade {
            from { opacity: .4 }
            to { opacity: 1 }
        }

        /* --- Cuenta Regresiva --- */
        #countdown {
            font-size: 1.3em;
            font-weight: bold;
            text-align: center;
            margin: 30px 0;
            color: var(--dark-blue);
            background-color: var(--light-blue-bg);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Lato', sans-serif;
        }
        #countdown i {
            margin-right: 8px;
            color: var(--medium-blue);
        }

        /* --- Lluvia de Sobres --- */
        .gift-section {
            text-align: center;
        }
        .gift-icons {
            display: flex;
            justify-content: center;
            gap: 30px; /* Espacio entre iconos */
            margin-top: 20px;
            flex-wrap: wrap; /* Para móviles */
        }
        .gift-icon-container {
            cursor: pointer;
            text-align: center;
            transition: transform 0.2s ease;
        }
        .gift-icon-container:hover {
            transform: scale(1.1);
        }
        .gift-icon-container i {
            font-size: 2.5em; /* Iconos más grandes */
            color: var(--medium-blue);
            margin-bottom: 5px;
            display: block; /* Para que el texto quede debajo */
        }
        .gift-icon-container span {
            font-size: 0.9em;
            color: var(--grey-text);
            display: block;
        }

        /* --- Dress Code --- */
        .dress-code-section {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            background-color: var(--light-blue-bg);
            border-radius: 8px;
        }
        .dress-code-section p {
            margin-bottom: 10px;
            font-size: 1.1em;
            color: var(--dark-blue);
        }
        .dress-code-section strong {
             font-family: 'Cormorant Garamond', serif;
             font-size: 1.3em;
             display: block;
             margin-bottom: 10px;
        }
        .color-restriction {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        .color-circle {
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: inline-block;
            border: 1px solid var(--grey-text);
            position: relative; /* Para la línea */
        }
        .color-circle.blue { background-color: var(--dark-mid-blue); }
        .color-circle.white { background-color: var(--white); }

        /* Línea roja cruzada */
        .color-circle::after {
            content: '';
            position: absolute;
            top: 50%;
            left: -10%;
            width: 120%;
            height: 2px;
            background-color: red;
            transform: translateY(-50%) rotate(-45deg);
            transform-origin: center;
        }

        .tie-restriction {
            margin-top: 15px;
            font-style: italic;
            color: var(--grey-text);
        }
         .tie-restriction i {
             margin-right: 5px;
             color: red;
         }

        /* --- Confirmación Asistencia --- */
        .confirmation-section {
            text-align: center;
            margin-top: 30px;
        }
        .btn {
            background-color: var(--medium-blue);
            color: var(--white);
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1.1em; /* Tamaño ajustado */
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            font-family: 'Lato', sans-serif;
            margin: 10px 5px; /* Espacio */
            display: inline-block; /* Permitir que estén en línea */
        }
        .btn:hover {
            background-color: var(--dark-blue);
        }
        .btn:active {
            transform: scale(0.98);
        }
         /* Botón Google Calendar */
        .gcal-button {
            display: inline-block; /* Alinear con otros botones si es necesario */
            margin-top: 10px;
        }
        .gcal-button img {
            transition: transform 0.2s ease;
            vertical-align: middle; /* Alinear imagen */
        }
        .gcal-button:hover img {
            transform: scale(1.05);
        }


        /* --- Popup Confirmación Asistencia --- */
        .popup {
            display: none; /* Oculto por defecto */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--white);
            color: var(--text-on-light);
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(10, 35, 66, 0.4);
            z-index: 1100;
            width: 90%;
            max-width: 450px;
            text-align: center;
        }
        .popup h3 {
            color: var(--dark-blue);
            margin-top: 0;
            margin-bottom: 20px; /* Más espacio */
        }
        .popup select {
            width: 100%;
            padding: 12px;
            margin: 15px 0 25px 0; /* Más espacio inferior */
            border: 1px solid var(--medium-blue);
            border-radius: 6px;
            font-family: 'Lato', sans-serif;
            font-size: 1em;
            background-color: var(--light-blue-bg);
            color: var(--dark-blue);
            cursor: pointer;
        }
        .popup select:focus {
            outline: none;
            border-color: var(--dark-blue);
            box-shadow: 0 0 5px rgba(44, 110, 158, 0.5);
        }
        .popup .btn-group {
             margin-top: 15px;
         }
        .popup .btn.close-btn { /* Botón cerrar específico */
            background-color: var(--grey-text);
        }
        .popup .btn.close-btn:hover {
            background-color: #333; /* Gris más oscuro */
        }


        /* --- Modal General (para QR y Cuenta) --- */
        .modal {
            display: none; /* Oculto por defecto */
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-bg);
            overflow: auto; /* Permitir scroll si el contenido es largo */
            padding-top: 60px; /* Espacio superior */
            align-items: center; /* Centrado vertical con flex (alternativa a padding) */
            justify-content: center; /* Centrado horizontal con flex */
        }
        .modal-content {
            background-color: var(--white);
            color: var(--text-on-light);
            margin: auto;
            padding: 30px;
            border-radius: 15px;
            position: relative;
            text-align: center;
            max-width: 90%;
            width: auto; /* Ajustar al contenido */
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
        }
        .close { /* Botón cerrar modal */
            position: absolute;
            top: 10px;
            right: 20px;
            font-size: 30px;
            font-weight: bold;
            color: var(--grey-text);
            cursor: pointer;
            line-height: 1;
            transition: color 0.3s ease;
        }
        .close:hover {
            color: var(--dark-blue);
        }
        .modal h3 { /* Título dentro del modal */
             margin-bottom: 25px;
             color: var(--dark-blue);
        }

        /* Contenido específico Modal QR */
        .modal-qr img {
            max-width: 100%; /* Ajustar al contenedor */
            height: auto;
            max-height: 60vh; /* Limitar altura máxima */
            border-radius: 10px;
            display: block;
            margin: 10px auto 20px auto; /* Espaciado */
        }
        .modal-qr .download-link {
            display: inline-block;
            margin-top: 15px;
            color: var(--medium-blue);
            text-decoration: none;
            font-weight: bold;
        }
        .modal-qr .download-link:hover {
            color: var(--dark-blue);
        }
         .modal-qr .download-link i {
             margin-right: 5px;
         }

        /* Contenido específico Modal Cuenta */
        .modal-account .account-info {
            background-color: var(--light-blue-bg);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            font-size: 1.2em;
            color: var(--dark-blue);
            display: flex; /* Para alinear número y botón */
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* Para pantallas pequeñas */
            gap: 10px;
        }
        .modal-account .account-info span#accountNumber {
            font-weight: bold;
            word-break: break-all; /* Evitar overflow del número */
        }
        .modal-account .btn.copy-btn {
            font-size: 0.9em; /* Botón copiar más pequeño */
            padding: 8px 15px;
            background-color: var(--dark-blue); /* Diferenciar botón copiar */
        }
        .modal-account .btn.copy-btn:hover {
            background-color: var(--medium-blue);
        }
        .modal-account .copy-feedback {
             font-size: 0.9em;
             color: green;
             margin-top: 10px;
             height: 1em; /* Reservar espacio para evitar saltos */
        }

        /* --- Footer (Opcional) --- */
        .footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            font-size: 0.9em;
            color: var(--grey-text);
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            .light-blob {
        width: 80vh; /* Hazlos un poco más grandes en pantallas pequeñas */
        height: 80vh;
        filter: blur(80px); /* Ajusta el desenfoque */
    }
            .invitation-card {
                margin: 20px 10px; /* Menos margen en móviles */
            }
            .header h1 { font-size: 2.5em; }
            .header p { font-size: 1.1em; }
            .content { padding: 20px; }
            h2 { font-size: 1.6em; }
            h3 { font-size: 1.3em; }
            p.info-item { font-size: 1em; }
            .slideshow-container { height: 300px; }
            #countdown { font-size: 1.1em; padding: 10px; }
            .gift-icons { gap: 20px; }
            .gift-icon-container i { font-size: 2em; }
            .btn { font-size: 1em; padding: 10px 20px; }
            .modal-content { padding: 20px; }
            .modal-account .account-info { font-size: 1em; }
        }

        @media (max-width: 480px) {
            .header h1 { font-size: 2em; }
            .header p { font-size: 1em; }
            .slideshow-container { height: 250px; }
            #countdown { font-size: 1em; }
            .gift-icon-container { width: 35%; /* 2 iconos por fila aprox */ }
            .btn { display: block; width: 90%; margin: 10px auto; } /* Botones en bloque */
            .gcal-button { display: block; width: 90%; margin: 10px auto; text-align: center; }
            .modal-account .account-info { flex-direction: column; align-items: center; }
            .popup { padding: 20px; }
        }

        /* --- Efecto de Luces en Movimiento --- */
.background-lights {
    position: fixed; /* Fija el fondo a la ventana del navegador */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden; /* Oculta cualquier parte de las 'luces' que se salga de la pantalla */
    z-index: -1; /* Asegura que esté detrás de la tarjeta de invitación */
    pointer-events: none; /* Permite que los clics pasen a los elementos debajo */
    background-color: var(--light-blue-bg); /* Usa el color de fondo claro de tu paleta */
}

.light-blob {
    position: absolute; /* Permite posicionar los elementos libremente dentro de .background-lights */
    width: 60vh; /* Tamaño grande relativo a la altura de la ventana */
    height: 60vh; /* Mismo tamaño para que sean circulares */
    border-radius: 50%; /* Forma circular */
    filter: blur(100px); /* Muy desenfocado para parecer un brillo suave */
    opacity: 0.5; /* Semi-transparente */
    /* Puedes ajustar width, height, filter y opacity para cambiar el tamaño y suavidad */
}

/* Colores y posiciones iniciales para cada 'luz' */
.light-blob-1 {
    background-color: rgba(44, 110, 158, 0.7); /* Usa --medium-blue con opacidad */
    top: -20%; /* Posición inicial fuera de la vista */
    left: -20%;
    animation: move-light-1 25s infinite alternate ease-in-out; /* Aplica animación */
}

.light-blob-2 {
    background-color: rgba(10, 35, 66, 0.6); /* Usa --dark-blue con opacidad */
    bottom: -20%; /* Posición inicial fuera de la vista */
    right: -20%;
    animation: move-light-2 30s infinite alternate ease-in-out; /* Aplica animación */
}

.light-blob-3 {
    background-color: rgba(224, 232, 240, 0.8); /* Usa --light-blue-bg con opacidad */
    top: 50%; /* Posición inicial en el centro */
    left: 50%;
    transform: translate(-50%, -50%); /* Centra el elemento basado en su propio tamaño */
    animation: move-light-3 20s infinite alternate ease-in-out; /* Aplica animación */
}

/* Definición de las animaciones de movimiento */
@keyframes move-light-1 {
    0% { top: -20%; left: -20%; }
    50% { top: 80%; left: 70%; } /* Se mueve hacia abajo y derecha */
    100% { top: -20%; left: -20%; } /* Vuelve a la posición inicial */
}

@keyframes move-light-2 {
    0% { bottom: -20%; right: -20%; }
    50% { bottom: 60%; right: 80%; } /* Se mueve hacia arriba y izquierda */
    100% { bottom: -20%; right: -20%; } /* Vuelve a la posición inicial */
}

@keyframes move-light-3 {
    0% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1); }
    40% { top: 20%; left: 30%; transform: translate(-50%, -50%) scale(1.1); } /* Se mueve y se agranda un poco */
    80% { top: 70%; left: 60%; transform: translate(-50%, -50%) scale(0.9); } /* Se mueve y se encoge un poco */
    100% { top: 50%; left: 50%; transform: translate(-50%, -50%) scale(1); } /* Vuelve a la posición y tamaño inicial */
}

    </style>
</head>
<body>
    <div class="background-lights">
        <div class="light-blob light-blob-1"></div>
        <div class="light-blob light-blob-2"></div>
        <div class="light-blob light-blob-3"></div>
        </div>

    <div class="invitation-card">
        <header class="header">
            <h1>Catalina & Juan</h1>
            <p>¡Nos casamos!</p>
        </header>

        <div class="slideshow-container">
            <div class="mySlides fade">
                <img src="https://i.postimg.cc/fbgPkcCf/compromiso.jpg" alt="Foto Novios 1">
            </div>
            <div class="mySlides fade">
                <img src="https://i.postimg.cc/tCCFvKp7/patines.jpg" alt="Foto Novios 2">
            </div>
            <div class="mySlides fade">
                 <img src="https://i.postimg.cc/26VPxcyt/02SAI.jpg" alt="Foto Novios 3">
            </div>
             <div class="mySlides fade">
                <img src="https://i.postimg.cc/Y9Wd9Jht/4.jpg" alt="Foto Novios 4">
            </div>
             <div class="mySlides fade">
                <img src="https://i.postimg.cc/CMC4QC8r/collage.jpg" alt="Foto Novios 5">
            </div>
        </div>

        <main class="content">
            <h2>Celebra con Nosotros</h2>
            <p>
                Con gran alegría queremos compartir este momento tan especial e invitarlos a celebrar nuestra unión.
            </p>

            <hr>

            <h3>Detalles del Evento</h3>
            <p class="info-item">
                <i class="fa-solid fa-calendar-days"></i>
                <span>Domingo, 14 de diciembre de 2025</span>
            </p>
            <p class="info-item">
                <i class="fa-solid fa-clock"></i>
                <span>05:00 p.m.</span>
            </p>
            <p class="info-item">
                <i class="fa-solid fa-location-dot"></i>
                <span>
                    Tu Fiesta Campestre, Palmira
                    <a href="https://maps.google.com/?q=Tu+Fiesta+Campestre,Palmira" target="_blank" title="Ver en Google Maps">(Ver Mapa)</a>
                </span>
            </p>

            <div id="countdown"><i class="fa-solid fa-hourglass-half"></i>Cargando cuenta regresiva...</div>

            <hr>

            <section class="gift-section">
                <h2>Lluvia de Sobres</h2>
                <p>Su presencia es nuestro mejor regalo, pero si desean tener un detalle con nosotros, aquí encontrarán algunas opciones:</p>
                <div class="gift-icons">
                    <div class="gift-icon-container" id="openAccountInfo">
                        <i class="fa-solid fa-money-bill-wave"></i>
                        <span>Efectivo / Transferencia</span>
                    </div>
                    <div class="gift-icon-container" id="openBancolombiaQr">
                        <i class="fa-solid fa-qrcode"></i>
                         <span>Bancolombia</span>
                    </div>
                    <div class="gift-icon-container" id="openDaviviendaAccount">
                         <i class="fa-solid fa-building-columns"></i>
                         <span>Davivienda</span>
                    </div>
                </div>
            </section>

            <hr>

            <section class="dress-code-section">
                <h2>Código de Vestimenta</h2>
                <p><strong>Formal</strong></p>
                <p>¡Ayúdanos a destacar vistiendo tus mejores colores!</p>
                <div class="color-restriction">
                    <span>Evita por favor:</span>
                    <div class="color-circle blue"></div>
                    <div class="color-circle white"></div>
                    <span>(Colores de los novios)</span>
                </div>
                 <p class="tie-restriction">
                     <i class="fa-solid fa-times-circle"></i> No usar moño (corbatín).
                 </p>
            </section>

            <hr>

             <section class="confirmation-section">
                <h2>Confirma tu Asistencia</h2>
                <p>Por favor, confirma tu asistencia antes del 01 de noviembre del 2025 para ayudarnos con la organización.</p>
                <button class="btn" onclick="openPopup()">Confirmar asistencia</button>
                 <a target="_blank" href="https://calendar.google.com/calendar/event?action=TEMPLATE&tmeid=MjdzNW9jNWtkdHMwODZzMTY2aThpNTJ0MGcgajEwMDYxMDYwNzBtQG0&tmsrc=j1006106070m%40gmail.com" class="gcal-button" title="Añadir a Google Calendar">
                     <img border="0" src="https://calendar.google.com/calendar/images/ext/gc_button1_es.gif" alt="Añadir a Google Calendar">
                 </a>
            </section>

        </main>
        <section class="no-children-note">
            <hr> <p>
                <i class="fa-solid fa-circle-info"></i> Agradecemos tu comprensión, este evento está planeado solo para adultos.
            </p>
       </section>

         <footer class="footer">
            <p>¡Esperamos contar contigo!</p>
            <p>&copy; 2025 Catalina & Juan</p>
        </footer>

    </div> <div id="popup" class="popup"> <h3>Confirmar asistencia</h3>
        <select id="nombre">
            <option value="">Seleccione su nombre</option>
            </select>
        <div class="btn-group">
             <button class="btn" onclick="confirmAttendance()">Enviar Confirmación</button>
             <button class="btn close-btn" onclick="closePopup()">Cerrar</button>
        </div>
    </div>

    <div id="qrModalBancolombia" class="modal">
        <div class="modal-content modal-qr">
            <span class="close" onclick="closeModal('qrModalBancolombia')">&times;</span>
            <h3>Código QR Bancolombia</h3>
            <img src="https://i.postimg.cc/HsZGcXgC/QR-BC.jpg" id="qrImageBancolombia" alt="Código QR Bancolombia">
            <a href="https://i.postimg.cc/HsZGcXgC/QR-BC.jpg" download="https://i.postimg.cc/HsZGcXgC/QR-BC.jpg" class="download-link">
                <i class="fa-solid fa-download"></i> Descargar QR
            </a>
        </div>
    </div>
    <div id="accountModalDavivienda" class="modal"> <div class="modal-content modal-account">
        <span class="close" onclick="closeModal('accountModalDavivienda')">×</span> <h3>Información Cuenta Davivienda</h3>
         <p>Puedes realizar una transferencia a la siguiente cuenta Davivienda:</p>
        <div class="account-info">
            <span id="accountNumberDavivienda">016200706188</span> <button class="btn copy-btn" onclick="copyAccountNumber('accountNumberDavivienda', 'copyFeedbackDavivienda')">
                 <i class="fa-solid fa-copy"></i> Copiar Número
            </button>
        </div>
         <div class="copy-feedback" id="copyFeedbackDavivienda"></div> </div>
</div>

<!--    <div id="qrModalDavivienda" class="modal">
        <div class="modal-content modal-qr">
            <span class="close" onclick="closeModal('qrModalDavivienda')">&times;</span>
            <h3>Código QR Davivienda</h3>
            <img src="https://via.placeholder.com/300x300/2C6E9E/FFFFFF?text=QR+Davivienda" id="qrImageDavivienda" alt="Código QR Davivienda">
             <a href="https://via.placeholder.com/300x300/2C6E9E/FFFFFF?text=QR+Davivienda" download="QR_Davivienda_Boda_Catalina_Juan.jpg" class="download-link">
                 <i class="fa-solid fa-download"></i> Descargar QR
             </a>
        </div>
    </div> -->

    <div id="accountModal" class="modal">
        <div class="modal-content modal-account">
            <span class="close" onclick="closeModal('accountModal')">&times;</span>
            <h3>Información Bancaria</h3>
             <p>Puedes realizar una transferencia a la siguiente cuenta:</p>
            <div class="account-info">
                <span id="accountNumber">016200706188</span> <button class="btn copy-btn" onclick="copyAccountNumber('accountNumber', 'copyFeedback')"> <i class="fa-solid fa-copy"></i> Copiar Número
                </button>
            </div>
             <div class="copy-feedback" id="copyFeedback"></div>
        </div>
    </div>


    <script>
        // --- Slideshow ---
        let slideIndex = 0;
        showSlides(); // Iniciar slideshow al cargar

        function showSlides() {
          let i;
          let slides = document.getElementsByClassName("mySlides");
          if (slides.length === 0) return; // Salir si no hay slides

          for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
          }
          slideIndex++;
          if (slideIndex > slides.length) {slideIndex = 1}
          slides[slideIndex-1].style.display = "block";
          slides[slideIndex-1].classList.add('fade'); // Asegurar animación
          setTimeout(showSlides, 2000); // Cambiar imagen cada 2 segundos (como solicitado)
        }

        // --- Cuenta Regresiva ---
        function startCountdown() {
            const targetDate = new Date("December 14, 2025 17:00:00").getTime(); // 5 PM
            const countdownElement = document.getElementById("countdown");

            function updateCountdown() {
                if (!countdownElement) return; // Salir si el elemento no existe

                const now = new Date().getTime();
                const timeLeft = targetDate - now;

                if (timeLeft <= 0) {
                    countdownElement.innerHTML = "¡Llegó el gran día! 🎉";
                    if(typeof countdownInterval !== 'undefined') clearInterval(countdownInterval); // Detener intervalo si existe
                    return;
                }

                const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

                countdownElement.innerHTML =
                    `<i class="fa-solid fa-hourglass-half"></i> Faltan: ${days}d ${hours}h ${minutes}m ${seconds}s`;
            }

            updateCountdown(); // Ejecutar inmediatamente
            const countdownInterval = setInterval(updateCountdown, 1000); // Actualizar cada segundo
        }

        // --- Confirmación de Asistencia (Popup) ---
        function openPopup() {
            const popup = document.getElementById("popup");
            if (popup) popup.style.display = "block"; // Mostrar popup
        }

        function closePopup() {
            const popup = document.getElementById("popup");
            if (popup) popup.style.display = "none"; // Ocultar popup
        }

        function cargarInvitados() {
            // URL de Google Apps Script para obtener la lista
            const url = 'https://script.google.com/macros/s/AKfycby7YbSc7SNzOKmc50us-S43q5iQfJPBqTMB0RmnF7i8qwC1467I1MC1i9E4qijx4HdA8g/exec?accion=obtenerInvitados';

            fetch(url)
            .then(response => {
                if (!response.ok) { throw new Error('Network response was not ok'); }
                return response.json();
             })
            .then(data => {
                let select = document.querySelector("#popup select#nombre");
                if (!select) return; // Salir si el select no existe

                select.innerHTML = "<option value=''>Seleccione su nombre</option>"; // Opción por defecto
                if (Array.isArray(data)) {
                    data.forEach(nombre => {
                        let option = document.createElement("option");
                        option.value = nombre;
                        option.textContent = nombre;
                        select.appendChild(option);
                    });
                } else {
                     console.error("Error: La respuesta de cargarInvitados no es un array:", data);
                }
            })
            .catch(error => console.error("Error al cargar invitados:", error));
        }

        function confirmAttendance() {
        let nombre = document.getElementById("nombre").value.trim();
        if (nombre === "") {
            alert("Por favor ingrese su nombre.");
            return;
        }
        if (Date.now()>new Date("2025-14-11")){
            alert("¡Fecha límite para confirmar asistencia superada!.");
            return
        }
        
        fetch('https://script.google.com/macros/s/AKfycbzl5xN6flR1guz7rDdG_Bx-QO7rp8ZYf3IFa5e2AJPEJpoZqbB1ZfHwHjttpWwG5cOkzA/exec', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body: new URLSearchParams({ 'nombre': nombre })
        })
        .then(response => response.text())
        .then(data => {
            nombre.value="";
            alert("¡Asistencia confirmada! Gracias por responder.");
            closePopup();
        })
             .catch(error => {
                  console.error('Error al confirmar asistencia:', error);
                  alert("Hubo un error al confirmar. Por favor, inténtelo de nuevo.");
             })
             .finally(() => {
                 // Restaurar botón
                 submitButton.textContent = originalButtonText;
                 submitButton.disabled = false;
             });
        }

        // --- Modales (QR y Cuenta) ---
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) modal.style.display = "flex"; // Usar flex para centrar
        }

        function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) modal.style.display = "none";

        // Limpiar feedback de copia al cerrar cualquier modal de cuenta
        let feedbackId = '';
        if (modalId === 'accountModal') {
             feedbackId = 'copyFeedback';
        } else if (modalId === 'accountModalDavivienda') { // AÑADIDO
             feedbackId = 'copyFeedbackDavivienda'; // AÑADIDO
        }

        if (feedbackId) {
            const feedback = document.getElementById(feedbackId);
            if (feedback) feedback.textContent = '';
        }
    }

         // Cerrar modal si se hace clic fuera del contenido
        window.addEventListener('click', function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                 if (event.target == modal) {
                      closeModal(modal.id);
                 }
            });
        });

       // --- Copiar Número de Cuenta (Modificada para ser reutilizable) ---
    function copyAccountNumber(numberId, feedbackId) {
        const accountNumberElement = document.getElementById(numberId);
        const feedbackElement = document.getElementById(feedbackId);
        if (!accountNumberElement || !feedbackElement) {
             console.error("Elementos no encontrados para copiar:", numberId, feedbackId);
             return;
        }

        const accountNumber = accountNumberElement.textContent || accountNumberElement.innerText;

        navigator.clipboard.writeText(accountNumber)
            .then(() => {
                feedbackElement.textContent = '¡Número copiado!';
                feedbackElement.style.color = 'green'; // Asegurar color verde
                // Opcional: Limpiar mensaje después de unos segundos
                setTimeout(() => { feedbackElement.textContent = ''; }, 3000);
            })
            .catch(err => {
                console.error('Error al copiar el número: ', err);
                feedbackElement.textContent = 'Error al copiar';
                feedbackElement.style.color = 'red'; // Indicar error
            });
    }

        // --- Inicialización al Cargar la Página ---
        document.addEventListener("DOMContentLoaded", function() {
            cargarInvitados(); // Cargar lista para el popup
            startCountdown(); // Iniciar cuenta regresiva

         // Asignar eventos para abrir modales
        const btnBancolombia = document.getElementById('openBancolombiaQr');
        const btnDavivienda = document.getElementById('openDaviviendaAccount'); // ID CAMBIADO
        const btnAccountInfo = document.getElementById('openAccountInfo');

        if(btnBancolombia) btnBancolombia.onclick = () => openModal('qrModalBancolombia');
        if(btnDavivienda) btnDavivienda.onclick = () => openModal('accountModalDavivienda'); // ID DE MODAL CAMBIADO
        if(btnAccountInfo) btnAccountInfo.onclick = () => openModal('accountModal');

             // Asegurarse de que el popup de confirmación esté oculto al inicio
             closePopup();
        });

    </script>

</body>
</html>